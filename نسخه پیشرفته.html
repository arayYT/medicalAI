<!doctype html>
<html lang="fa">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Ø³Ø§Ù…Ø§Ù†Ù‡Ù” Ù¾Ø²Ø´Ú©ÛŒ Ùˆ ØªØ±Ø¬Ù…Ù‡ â€” Ù¾ÛŒØ´Ø±ÙØªÙ‡</title>
<style>
:root {
  --bg: #f6fbff;
  --card: #ffffff;
  --accent: #2b79c6;
  --accent-2: #79aee8;
  --text: #0b2540;
  --muted: #6b7a89;
  --danger: #d9534f;
  --glass: rgba(255,255,255,0.6);
  font-family: 'Segoe UI', Roboto, sans-serif;
}
*{box-sizing:border-box;}
body{margin:0;background:var(--bg);color:var(--text);}
.container{max-width:1200px;margin:30px auto;padding:20px;}
header{display:flex;align-items:center;gap:20px;margin-bottom:20px;}
.logo{width:64px;height:64px;background:linear-gradient(135deg,var(--accent),var(--accent-2));border-radius:16px;display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700;font-size:20px;}
h1{margin:0;font-size:22px;font-weight:600;}
p.lead{margin:4px 0 0;color:var(--muted);font-size:14px;}
.tabs{display:flex;gap:8px;margin-bottom:20px;}
.tab-btn{padding:10px 18px;border:none;border-radius:12px;background:var(--accent);color:#fff;cursor:pointer;font-size:15px;font-weight:600;transition:0.25s;}
.tab-btn.active{background:var(--accent-2);}
.grid{display:grid;grid-template-columns:1fr 400px;gap:20px;}
.card{background:var(--card);border-radius:16px;padding:18px;box-shadow:0 6px 18px rgba(0,0,0,0.05);border:1px solid #e8efff;transition:0.25s ease;}
.card:hover{transform:translateY(-4px);box-shadow:0 8px 22px rgba(0,0,0,0.12);}
button{padding:10px 18px;border:none;border-radius:12px;background:var(--accent);color:#fff;cursor:pointer;font-size:15px;font-weight:600;transition:0.25s ease;}
button:hover{background:var(--accent-2);}
input[type=text],input[type=number],select,textarea{width:100%;padding:10px;border-radius:10px;border:1px solid #e6eef8;margin-top:6px;}
textarea{resize:vertical;}
.symptom-list{display:flex;flex-wrap:wrap;gap:8px;margin-top:8px;}
.chip{padding:8px 12px;border-radius:50px;background:var(--glass);border:1px solid rgba(43,121,198,0.15);cursor:pointer;color:var(--text);transition:0.25s;}
.chip.active{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#fff;border:0;}
.results{margin-top:12px;}
.prob{display:flex;justify-content:space-between;align-items:center;padding:10px;border-radius:10px;border:1px solid #f0f6fb;margin-top:8px;}
.small{font-size:12px;color:var(--muted);}
.side .section{margin-bottom:16px;}
.notice{padding:12px;border-radius:12px;background:linear-gradient(90deg,rgba(43,121,198,0.06),rgba(121,174,232,0.04));border:1px solid rgba(43,121,198,0.06);}
.plan-list{list-style:none;padding:0;margin:0;}
.plan-list li{padding:8px 0;border-bottom:1px dashed #eef6ff;}
footer{margin-top:20px;text-align:center;color:var(--muted);font-size:13px;}
@media(max-width:980px){.grid{grid-template-columns:1fr;}.side{order:2;}}
/* Dark Mode */
.dark{background:#0e1220;color:#e7ecff;}
.dark #app,.dark .card{background:#1d2438;box-shadow:0 4px 14px rgba(0,0,0,0.4);border:1px solid #2c3553;}
.dark button{background:#3b78ff;}
.dark button:hover{background:#2964f0;}
.theme-btn{position:fixed;top:20px;right:20px;width:55px;height:55px;border-radius:50px;background:var(--accent);color:#fff;font-size:22px;display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:0 4px 12px rgba(0,0,0,0.15);transition:0.3s;}
.theme-btn:hover{transform:scale(1.06);background:var(--accent-2);}
</style>
</head>
<body>
<button id="themeToggle" class="theme-btn"><span id="themeIcon">ğŸŒ™</span></button>
<div class="container" id="app">

<header>
  <div class="logo">MD</div>
  <div>
    <h1>Ø³Ø§Ù…Ø§Ù†Ù‡Ù” Ù¾Ø²Ø´Ú©ÛŒ Ùˆ ØªØ±Ø¬Ù…Ù‡ â€” Ù†Ø³Ø®Ù‡Ù” Ù¾ÛŒØ´Ø±ÙØªÙ‡</h1>
    <p class="lead">Ø§Ø¨Ø²Ø§Ø± Ø¢Ù…ÙˆØ²Ø´ÛŒ: ØªØ´Ø®ÛŒØµ Ø¨ÛŒÙ…Ø§Ø±ÛŒØŒ Ø´Ø§Ø®Øµ Ø³Ù„Ø§Ù…ØªØŒ Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø¯Ø§Ø±ÙˆÛŒÛŒØŒ Ø¨Ø±Ù†Ø§Ù…Ù‡Ù” ÙˆØ±Ø²Ø´ÛŒ Ùˆ ØªØ±Ø¬Ù…Ù‡ Ù…ØªÙ† â€” <strong>Ø§ÛŒÙ† Ø³Ø±ÙˆÛŒØ³ Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† Ù¾Ø²Ø´Ú© Ù†ÛŒØ³Øª</strong>.</p>
  </div>
</header>

<div class="tabs">
  <button class="tab-btn active" data-tab="medicalTab">Ù¾Ø²Ø´Ú©ÛŒ</button>
  <button class="tab-btn" data-tab="translateSection">ØªØ±Ø¬Ù…Ù‡</button>
</div>

<!-- Ø¨Ø®Ø´ Ù¾Ø²Ø´Ú©ÛŒ -->
<div id="medicalTab">
<div class="grid">
<div>
  <!-- 1) ÙˆØ§Ø±Ø¯ Ú©Ø±Ø¯Ù† Ø¹Ù„Ø§Ø¦Ù… Ùˆ Ù…Ø´Ø®ØµØ§Øª -->
  <div class="card">
    <h3>Û±) ÙˆØ§Ø±Ø¯ Ú©Ø±Ø¯Ù† Ø¹Ù„Ø§Ø¦Ù… Ùˆ Ù…Ø´Ø®ØµØ§Øª</h3>
    <label>Ø¹Ù„Ø§Ø¦Ù… Ø±Ø§ ØªØ§ÛŒÙ¾ Ú©Ù† ÛŒØ§ Ø§Ø² Ù…ÙˆØ§Ø±Ø¯ Ù¾Ø§ÛŒÛŒÙ† Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†</label>
    <input id="symptomText" placeholder="Ù…Ø«Ø§Ù„: Ø³Ø±ÙÙ‡ØŒ ØªØ¨ØŒ Ø¯Ø±Ø¯ Ù‚ÙØ³Ù‡Ù” Ø³ÛŒÙ†Ù‡">
    <div class="symptom-list" id="symptomChips"></div>
    <div style="display:flex;gap:8px;margin-top:10px;flex-wrap:wrap">
      <input type="number" id="ageInput" placeholder="Ø³Ù†" min="1" max="120">
      <input type="number" id="heightInput" placeholder="Ù‚Ø¯ (Ø³Ø§Ù†ØªÛŒâ€ŒÙ…ØªØ±)" min="50" max="250">
      <input type="number" id="weightInput" placeholder="ÙˆØ²Ù† (Ú©ÛŒÙ„ÙˆÚ¯Ø±Ù…)" min="10" max="300">
      <select id="sexSel"><option value="male">Ù…Ø±Ø¯</option><option value="female">Ø²Ù†</option></select>
      <button id="checkBtn">Ø¨Ø±Ø±Ø³ÛŒ Ø§Ø­ØªÙ…Ø§Ù„Ø§Øª</button>
    </div>
    <div class="results" id="probList"></div>
    <div class="results" id="healthStatus"></div>
  </div>

  <!-- 2) Ø§Ù†ØªØ®Ø§Ø¨ Ø¨ÛŒÙ…Ø§Ø±ÛŒ -->
  <div class="card" style="margin-top:12px">
    <h3>Û²) Ø§Ù†ØªØ®Ø§Ø¨ Ø¨ÛŒÙ…Ø§Ø±ÛŒ â€” Ù…Ø´Ø§Ù‡Ø¯Ù‡Ù” Ø¬Ø²Ø¦ÛŒØ§Øª</h3>
    <input id="diseaseSearch" placeholder="Ù…Ø«Ø§Ù„: Ø¢Ù†ÙÙ„ÙˆØ¢Ù†Ø²Ø§">
    <div id="diseaseCard" style="margin-top:10px"></div>
  </div>

  <!-- 3) Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¯Ø§Ø±ÙˆÛŒÛŒ -->
  <div class="card" style="margin-top:12px">
    <h3>Û³) Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¯Ø§Ø±ÙˆÛŒÛŒ (Ø¢Ù…ÙˆØ²Ø´ÛŒ)</h3>
    <div id="drugInfoArea"></div>
  </div>

  <!-- 4) ØªØ§Ø±ÛŒØ®Ú†Ù‡ Ù†ØªØ§ÛŒØ¬ -->
  <div class="card" style="margin-top:12px">
    <h3>Û´) ØªØ§Ø±ÛŒØ®Ú†Ù‡Ù” Ù†ØªØ§ÛŒØ¬</h3>
    <div id="historyArea" class="small"></div>
  </div>

  <!-- 5) BMI Ùˆ ÙˆØ¶Ø¹ÛŒØª Ø³Ù„Ø§Ù…Øª -->
  <div class="card" style="margin-top:12px">
    <h3>Ûµ) Ø´Ø§Ø®Øµ Ø³Ù„Ø§Ù…Øª</h3>
    <div id="bmiResult"></div>
  </div>

  <!-- 6) Ù‡Ø´Ø¯Ø§Ø±Ù‡Ø§ Ùˆ Ø§Ø·Ù„Ø§Ø¹ Ø±Ø³Ø§Ù†ÛŒ -->
  <div class="card" style="margin-top:12px">
    <h3>Û¶) Ù‡Ø´Ø¯Ø§Ø± Ùˆ Ø§Ø±Ø³Ø§Ù„ Ø§ÛŒÙ…ÛŒÙ„ Ø¨Ù‡ Ù¾Ø²Ø´Ú© (Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ)</h3>
    <label>Ø§ÛŒÙ…ÛŒÙ„ Ù¾Ø²Ø´Ú© (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)</label>
    <input id="docEmail" placeholder="doctor@example.com">
    <button id="sendAlert" style="margin-top:6px">Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø§Ø±Ø³Ø§Ù„ Ù‡Ø´Ø¯Ø§Ø±</button>
    <div id="alertStatus" class="small" style="margin-top:6px"></div>
  </div>
</div>
<aside class="side">
  <!-- Ø¨Ø±Ù†Ø§Ù…Ù‡ ÙˆØ±Ø²Ø´ÛŒ -->
  <div class="card section">
    <h4>Ø¨Ø±Ù†Ø§Ù…Ù‡ ÙˆØ±Ø²Ø´ÛŒ â€” Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ Ø´Ø¯Ù‡</h4>
    <label>Ù‡Ø¯Ù</label>
    <select id="fitnessGoal"><option value="general">Ø³Ù„Ø§Ù…ØªÛŒ Ø¹Ù…ÙˆÙ…ÛŒ</option><option value="weight_loss">Ú©Ø§Ù‡Ø´ ÙˆØ²Ù†</option><option value="strength">ØªÙ‚ÙˆÛŒØª Ø¹Ø¶Ù„Ø§Øª</option></select>
    <label>Ø³Ù†</label>
    <select id="fitnessAge"><option value="16">16</option><option value="20">20</option><option value="30">30</option><option value="45">45</option></select>
    <button id="genPlan">Ø³Ø§Ø®Øª Ø¨Ø±Ù†Ø§Ù…Ù‡</button>
    <ul id="planList" class="plan-list" style="margin-top:10px"></ul>
  </div>
</aside>
</div>
</div>

<!-- Ø¨Ø®Ø´ ØªØ±Ø¬Ù…Ù‡ -->
<div id="translateSection" style="display:none;">
  <div class="card">
    <h3>ØªØ±Ø¬Ù…Ù‡ Ù…ØªÙ†</h3>
    <label>Ù…ØªÙ† Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯:</label>
    <textarea id="textInput" rows="4" placeholder="Ù…ØªÙ† Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯"></textarea>
    <label>Ø²Ø¨Ø§Ù† ÙˆØ±ÙˆØ¯ÛŒ:</label>
    <select id="inputLang"></select>
    <label>Ø²Ø¨Ø§Ù† Ø®Ø±ÙˆØ¬ÛŒ:</label>
    <select id="outputLang"></select>
    <button id="translateBtn">ØªØ±Ø¬Ù…Ù‡</button>
    <div id="translationResult" class="results" style="margin-top:10px; display:flex;align-items:center;gap:8px;"></div>
  </div>
</div>

<footer class="card">Ù†Ø³Ø®Ù‡Ù” Ù¾ÛŒØ´Ø±ÙØªÙ‡ â€” Ø§ÛŒÙ† Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø¨Ø±Ø§ÛŒ Ø§Ù‡Ø¯Ø§Ù ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒ Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡ Ø§Ø³Øª.</footer>
</div>

<script>
// =========================
// TAB SWITCH
document.querySelectorAll('.tab-btn').forEach(btn=>{
  btn.addEventListener('click',()=>{
    document.querySelectorAll('.tab-btn').forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
    const tabId=btn.dataset.tab;
    document.querySelectorAll('#medicalTab, #translateSection').forEach(t=>t.style.display='none');
    document.getElementById(tabId).style.display='block';
  });
});

// =========================
// Ø¨Ø®Ø´ Ù¾Ø²Ø´Ú©ÛŒ (Ù…Ø«Ù„ Ù‚Ø¨Ù„)
const DISEASE_DB=[
{ id:'flu',name:'Ø¢Ù†ÙÙ„ÙˆØ¢Ù†Ø²Ø§',symptoms:['fever','cough','sore throat'],self_care:['Ø§Ø³ØªØ±Ø§Ø­Øª','Ø¢Ø¨ Ú©Ø§ÙÛŒ'],drug_groups:['Ø¶Ø¯ÙˆÛŒØ±ÙˆØ³â€ŒÙ‡Ø§'],danger_signs:['shortness of breath']},
{ id:'covid',name:'COVID-19',symptoms:['fever','cough','loss of taste','loss of smell'],self_care:['Ù‚Ø±Ù†Ø·ÛŒÙ†Ù‡','Ø§Ø³ØªØ±Ø§Ø­Øª'],drug_groups:['Ø¯Ø§Ø±ÙˆÙ‡Ø§ÛŒ Ø¶Ø¯ÙˆÛŒØ±ÙˆØ³ÛŒ'],danger_signs:['shortness of breath']},
{ id:'cold',name:'Ø³Ø±Ù…Ø§Ø®ÙˆØ±Ø¯Ú¯ÛŒ',symptoms:['cough','runny nose','sore throat'],self_care:['Ø§Ø³ØªØ±Ø§Ø­Øª','Ù…Ø§ÛŒØ¹Ø§Øª'],drug_groups:['Ù…Ø³Ú©Ù†â€ŒÙ‡Ø§'],danger_signs:[]},
{ id:'migraine',name:'Ù…ÛŒÚ¯Ø±Ù†',symptoms:['headache','nausea','sensitivity to light'],self_care:['Ø§Ø³ØªØ±Ø§Ø­Øª Ø¯Ø± ØªØ§Ø±ÛŒÚ©ÛŒ'],drug_groups:['Ù…Ø³Ú©Ù†â€ŒÙ‡Ø§'],danger_signs:[]},
{ id:'diabetes',name:'Ø¯ÛŒØ§Ø¨Øª',symptoms:['thirst','frequent urination','fatigue'],self_care:['Ú©Ù†ØªØ±Ù„ Ù‚Ù†Ø¯'],drug_groups:['Ø§Ù†Ø³ÙˆÙ„ÛŒÙ†'],danger_signs:['high blood sugar']},
{ id:'hypertension',name:'ÙØ´Ø§Ø± Ø®ÙˆÙ† Ø¨Ø§Ù„Ø§',symptoms:['headache','dizziness'],self_care:['Ú©Ù†ØªØ±Ù„ ÙØ´Ø§Ø±'],drug_groups:['Ø¯Ø§Ø±ÙˆÙ‡Ø§ÛŒ ÙØ´Ø§Ø±'],danger_signs:['severe headache']}
];
const SUGGESTED_SYMPTOMS=['fever','cough','sore throat','headache','shortness of breath','nausea','runny nose','fatigue','loss of taste','loss of smell'];
const chipsDiv=document.getElementById('symptomChips');
SUGGESTED_SYMPTOMS.forEach(s=>{const el=document.createElement('div');el.className='chip';el.innerText=s;el.onclick=()=>el.classList.toggle('active');chipsDiv.appendChild(el);});
function normalizeList(text){return text?text.split(/[,ØŒ\n]/).map(s=>s.trim().toLowerCase()).filter(Boolean):[];}
function getSelectedSymptoms(){const active=Array.from(document.querySelectorAll('.chip.active')).map(c=>c.innerText.toLowerCase());const typed=normalizeList(document.getElementById('symptomText').value);return Array.from(new Set([...active,...typed]));}
function similarityScore(inputSymptoms,disease){if(!inputSymptoms.length)return 0;const dset=new Set(disease.symptoms.map(s=>s.toLowerCase()));let match=0;inputSymptoms.forEach(s=>{if(dset.has(s))match++;});return match/Math.max(disease.symptoms.length,inputSymptoms.length);}
function runMatching(){const symptoms=getSelectedSymptoms();const results=DISEASE_DB.map(d=>({id:d.id,name:d.name,score:similarityScore(symptoms,d)})).filter(r=>r.score>0).sort((a,b)=>b.score-a.score);const urgent=DISEASE_DB.some(d=>d.danger_signs.some(ds=>symptoms.includes(ds)));renderResults(results,urgent);appendHistory({time:new Date().toLocaleString(),symptoms,results});computeHealth();}
function renderResults(results,urgent){const list=document.getElementById('probList'); list.innerHTML='';if(urgent){const warn=document.createElement('div');warn.className='prob';warn.innerHTML=`<strong style="color:var(--danger)">Ù‡Ø´Ø¯Ø§Ø±: Ø¹Ù„Ø§Ù…Øª Ø®Ø·Ø± Ø¨Ø§Ù„Ø§</strong>`;list.appendChild(warn);}if(!results.length){list.innerHTML='<div class="small">Ù‡ÛŒÚ† ØªØ·Ø§Ø¨Ù‚ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯.</div>';return;}results.slice(0,6).forEach(r=>{const el=document.createElement('div');el.className='prob';el.innerHTML=`<div><strong>${r.name}</strong><div class="small">Ø§Ø­ØªÙ…Ø§Ù„: ${(r.score*100).toFixed(0)}%</div></div><div><button onclick="showDisease('${r.id}')">Ù…Ø´Ø§Ù‡Ø¯Ù‡</button></div>`;list.appendChild(el);});}
function showDisease(id){const d=DISEASE_DB.find(x=>x.id===id); if(!d)return;const c=document.getElementById('diseaseCard');c.innerHTML=`<div style="padding:10px;border-radius:8px;border:1px solid #eef8ff;background:#fff"><strong>${d.name}</strong><div class="small">Ø¹Ù„Ø§Ø¦Ù…: ${d.symptoms.join(', ')}</div><h4>Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ù…Ø±Ø§Ù‚Ø¨Øª</h4><div class="small">${d.self_care.join('ØŒ ')}</div><h4>Ú†Ù‡ Ø²Ù…Ø§Ù†ÛŒ Ø¨Ù‡ Ù¾Ø²Ø´Ú© Ù…Ø±Ø§Ø¬Ø¹Ù‡ Ú©Ù†ÛŒÙ…</h4><div class="small">${d.danger_signs.join('ØŒ ')}</div></div>`;}
function appendHistory(entry){const h=document.getElementById('historyArea');const el=document.createElement('div');el.innerHTML=`<div style="padding:8px;border-radius:6px;border:1px solid #f2f8ff;margin-top:6px"><strong>${entry.time}</strong><div class="small">Ø¹Ù„Ø§Ø¦Ù…: ${entry.symptoms.join(', ')} â€” Ù†ØªØ§ÛŒØ¬: ${entry.results.map(r=>r.name+' ('+(r.score*100).toFixed(0)+'%)').join('; ')}</div></div>`;h.prepend(el);}
function computeHealth(){const age=parseInt(document.getElementById('ageInput').value);const height=parseFloat(document.getElementById('heightInput').value);const weight=parseFloat(document.getElementById('weightInput').value);const statusDiv=document.getElementById('healthStatus');if(!age || !height || !weight){statusDiv.innerHTML='';return;}const bmi=weight / ((height/100)*(height/100));let bmiStatus='';if(bmi<18.5) bmiStatus='Ú©Ù… ÙˆØ²Ù†';else if(bmi<25) bmiStatus='ÙˆØ²Ù† Ù†Ø±Ù…Ø§Ù„';else bmiStatus='Ø§Ø¶Ø§ÙÙ‡ ÙˆØ²Ù†';let idealHeight='';const avgHeight=(age<18)?(100+age*5):170;if(height<avgHeight-5) idealHeight='Ú©ÙˆØªØ§Ù‡â€ŒØªØ± Ø§Ø² Ù…ÛŒØ§Ù†Ú¯ÛŒÙ†';else if(height>avgHeight+5) idealHeight='Ø¨Ù„Ù†Ø¯ØªØ± Ø§Ø² Ù…ÛŒØ§Ù†Ú¯ÛŒÙ†';else idealHeight='Ø·ÙˆÙ„ Ù‚Ø¯ Ù…Ù†Ø§Ø³Ø¨';statusDiv.innerHTML=`<div class="prob">BMI: ${bmi.toFixed(1)} â€” ÙˆØ¶Ø¹ÛŒØª: ${bmiStatus}<br>Ù‚Ø¯ Ù†Ø³Ø¨Øª Ø¨Ù‡ Ø³Ù†: ${idealHeight}</div>`;}
function generateFitness(){const goal=document.getElementById('fitnessGoal').value;const age=parseInt(document.getElementById('fitnessAge').value);const list=document.getElementById('planList'); list.innerHTML='';let plan=[];if(goal==='general') plan=['Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ±ÙˆÛŒ Û³Û° Ø¯Ù‚ÛŒÙ‚Ù‡','Ú©Ø´Ø´ ØµØ¨Ø­Ú¯Ø§Ù‡ÛŒ','Ø´Ù†Ø§ ÛŒØ§ Ø¯ÙˆÚ†Ø±Ø®Ù‡ Û²Û° Ø¯Ù‚ÛŒÙ‚Ù‡'];else if(goal==='weight_loss') plan=['Ø¯ÙˆÛŒØ¯Ù† Û´Û° Ø¯Ù‚ÛŒÙ‚Ù‡','ØªÙ…Ø±ÛŒÙ†Ø§Øª HIIT Û²Û° Ø¯Ù‚ÛŒÙ‚Ù‡','Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ±ÙˆÛŒ Ø³Ø¨Ú© Û³Û° Ø¯Ù‚ÛŒÙ‚Ù‡'];else if(goal==='strength') plan=['ØªÙ…Ø±ÛŒÙ† Ø¨Ø§ ÙˆØ²Ù†Ù‡ Û´Ûµ Ø¯Ù‚ÛŒÙ‚Ù‡','Ø´Ù†Ø§ Ø³ÙˆØ¦Ø¯ÛŒ Û³ Ø³Øª','Ø§Ø³Ú©ÙˆØ§Øª Û³ Ø³Øª'];plan.forEach(p=>{const li=document.createElement('li');li.innerText=p;list.appendChild(li);});}
document.getElementById('checkBtn').onclick=runMatching;
document.getElementById('genPlan').onclick=generateFitness;
document.getElementById('sendAlert').onclick=()=>{const email=document.getElementById('docEmail').value;document.getElementById('alertStatus').innerHTML=`Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø§Ø±Ø³Ø§Ù„ Ù‡Ø´Ø¯Ø§Ø± Ø¨Ù‡ ${email||'Ù¾Ø²Ø´Ú©'} Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯.`;}
document.getElementById('diseaseSearch').addEventListener('input',e=>{const val=e.target.value.toLowerCase();const found=DISEASE_DB.find(d=>d.name.toLowerCase().includes(val));if(found)showDisease(found.id);});

// =========================
// ØªØ±Ø¬Ù…Ù‡ Ù…ØªÙ† Ø¨Ø§ Ø¯Ú©Ù…Ù‡ ØµÙˆØªÛŒ
const LANGS=[
  {code:'fa',name:'ÙØ§Ø±Ø³ÛŒ'},{code:'en',name:'Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ'},{code:'ar',name:'Ø¹Ø±Ø¨ÛŒ'},
  {code:'tr',name:'ØªØ±Ú©ÛŒ'},{code:'de',name:'Ø¢Ù„Ù…Ø§Ù†ÛŒ'},{code:'fr',name:'ÙØ±Ø§Ù†Ø³Ù‡'},
  {code:'es',name:'Ø§Ø³Ù¾Ø§Ù†ÛŒØ§ÛŒÛŒ'},{code:'it',name:'Ø§ÛŒØªØ§Ù„ÛŒØ§ÛŒÛŒ'},{code:'ru',name:'Ø±ÙˆØ³ÛŒ'},
  {code:'zh',name:'Ú†ÛŒÙ†ÛŒ'}
];
const inputLang=document.getElementById('inputLang');
const outputLang=document.getElementById('outputLang');
LANGS.forEach(l=>{
  const opt1=document.createElement('option'); opt1.value=l.code; opt1.innerText=l.name; inputLang.appendChild(opt1);
  const opt2=document.createElement('option'); opt2.value=l.code; opt2.innerText=l.name; outputLang.appendChild(opt2);
});
outputLang.value='en';

document.getElementById('translateBtn').onclick=async()=>{
  const text=document.getElementById('textInput').value.trim();
  const from=inputLang.value, to=outputLang.value;
  const resultDiv=document.getElementById('translationResult');
  if(!text){resultDiv.innerHTML='Ù…ØªÙ†ÛŒ ÙˆØ§Ø±Ø¯ Ù†Ø´Ø¯Ù‡'; return;}
  resultDiv.innerHTML='Ø¯Ø± Ø­Ø§Ù„ ØªØ±Ø¬Ù…Ù‡...';
  try{
    const res=await fetch(`https://translate.googleapis.com/translate_a/single?client=gtx&sl=${from}&tl=${to}&dt=t&q=${encodeURIComponent(text)}`);
    const data=await res.json();
    const translatedText=data[0].map(x=>x[0]).join('');
    resultDiv.innerHTML=`<span>${translatedText}</span> <button id="speakBtn">ğŸ”Š</button>`;
    document.getElementById('speakBtn').onclick=()=>{speakText(translatedText,to);};
  }catch(e){resultDiv.innerHTML='Ø®Ø·Ø§ Ø¯Ø± ØªØ±Ø¬Ù…Ù‡';}
};
function speakText(text,lang){
  const utter=new SpeechSynthesisUtterance(text);
  utter.lang=lang;
  speechSynthesis.speak(utter);
}

// =========================
// Ø­Ø§Ù„Øª ØªØ§Ø±ÛŒÚ©
const themeBtn=document.getElementById('themeToggle');
const themeIcon=document.getElementById('themeIcon');
themeBtn.onclick=()=>{
  document.body.classList.toggle('dark');
  themeIcon.innerText=document.body.classList.contains('dark')?'â˜€ï¸':'ğŸŒ™';
};
</script>

</body>
</html>
